{% extends "layout.html" %}

{% block title %}
    Buy
{% endblock %}

{% block main %}
    <form action="/milestone" method="post">
        <div class="mb-3">
            <select class="form-select mx-auto w-auto" id="baby_id" name="baby_id" type="text">
                {% for baby in babies %}
                    <option value="{{ baby['baby_id'] }}">{{ baby["baby_name"] }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="mb-3">
            <label for="milestone_time">When did the milestone happen?</label>
            <input type="datetime-local" id="milestone_time" name="milestone_time" max="" required>
        </div>
        <div class="mb-3">
            <label for="end_time">What was the milestone? </label>
            <input type="text" id="description" name="description" max="" required>
        </div>
        <button class="btn btn-primary" type="submit">Log Milestone</button>
    </form>
    <script>
        const now = new Date();
        const formattedNow = now.toISOString().slice(0, 16); // Format: YYYY-MM-DDTHH:MM
        document.getElementById("start_time").setAttribute("max", formattedNow);
        document.getElementById("end_time").setAttribute("max", formattedNow);
    </script>
{% endblock %}
