{% extends "layout.html" %}

{% block title %}
    Milestone
{% endblock %}

{% block main %}
    <div class="mb-3">
        <form action="/milestone" method="post">
            <div class="mb-3">
                <label for="baby_id">Which baby? </label>
                <select class="form-select mx-auto w-auto inline-form" id="baby_id" name="baby_id" type="text">
                    {% for baby in babies %}
                        <option value="{{ baby['baby_id'] }}">{{ baby["baby_name"] }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="mb-3">
                <label for="milestone_time">When did the milestone happen?</label>
                <input class="form-control mx-auto w-auto inline-form" type="datetime-local" id="milestone_time" name="milestone_time" max="" required>
            </div>
            <div class="mb-3">
                <label for="description">What was the milestone? </label>
                <input class="form-control mx-auto w-auto inline-form" type="text" id="description" name="description" max="" required>
            </div>
            <button class="btn btn-primary" type="submit">Log Milestone</button>
        </form>
    </div>
    <div class="mb-3">
            <a href="/milestone/history/{{ babies[0]['baby_id'] }}"><button class="btn btn-secondary" type="button" id="history_button"> Milestone History</button></a>
    </div>
    <script>
        const now = new Date();
        const formattedNow = now.toISOString().slice(0, 16); // Format: YYYY-MM-DDTHH:MM
        document.getElementById("milestone_time").setAttribute("max", formattedNow);
    </script>
{% endblock %}
